import B from"./MonacoEditor-C2fe0tjm.js";import{r as u,c as l,j as a,d as o,g as h,t as d,n as g,i as V,b as j,F as L,f as z}from"./index-CroKb6bU.js";import"./monaco-editor-CGO6wXTd.js";const F={class:"flex flex-col md:flex-row h-full"},N={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col border-b md:border-b-0 md:border-r border-slate-700"},S={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-800/50"},E={class:"flex items-center gap-2"},q={key:0,class:"text-xs px-2 py-0.5 bg-emerald-600 text-white rounded-full"},M={key:1,class:"text-xs px-2 py-0.5 bg-slate-600 text-slate-300 rounded-full"},R=["disabled"],T={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},H={class:"flex-1 min-h-0"},U={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col bg-slate-900"},$={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700"},D={class:"flex items-center gap-3"},I={class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},O={key:0,class:"text-xs text-slate-500"},W={key:0,class:"flex-1 flex items-center justify-center"},G={class:"text-center space-y-4"},J={class:"text-slate-400"},K={key:1,class:"flex-1 overflow-y-auto p-4 font-mono text-sm space-y-1"},Q={key:0,class:"text-red-400"},X={key:1,class:"text-emerald-400"},Y={class:"whitespace-pre-wrap"},Z={key:0,class:"text-slate-500 italic"},le={__name:"PythonRunner",emits:["output","error","ready"],setup(ee,{emit:b}){const x=b,y=u(`# Python code runs in your browser with Pyodide
# No server required!

print("Hello from Python!")

# Basic math
result = sum(range(1, 101))
print(f"Sum of 1 to 100: {result}")

# List comprehension
squares = [x**2 for x in range(1, 11)]
print(f"Squares: {squares}")

# Dictionary example
person = {
    "name": "Alice",
    "age": 30,
    "city": "Wonderland"
}

for key, value in person.items():
    print(f"{key}: {value}")
`),r=u([]),n=u(!1),f=u(!1),m=u(""),c=u(null);let i=null;const _=async()=>{if(i)return i;if(console.log("Loading Pyodide runtime..."),window.loadPyodide)return await w(window.loadPyodide);n.value=!0,m.value="Loading Pyodide runtime...";try{const e="/tools/",t=`${e.endsWith("/")?e:e+"/"}pyodide/`;if(await new Promise((s,v)=>{const p=document.createElement("script");p.src=`${t}pyodide.js`,p.onload=s,p.onerror=()=>v(new Error("Failed to load pyodide.js script")),document.head.appendChild(p)}),m.value="Initializing Python environment...",!window.loadPyodide)throw new Error("Pyodide script loaded but loadPyodide not found in window");return await w(window.loadPyodide,t)}catch(e){throw r.value.push({type:"error",message:`Failed to load Pyodide: ${e.message}`}),e}finally{n.value=!1,m.value=""}},w=async(e,t)=>(i=await e({indexURL:t}),i.setStdout({batched:s=>{r.value.push({type:"log",message:s})}}),i.setStderr({batched:s=>{r.value.push({type:"error",message:s})}}),f.value=!0,x("ready"),i),k=async()=>{r.value=[],c.value=null;try{const e=await _(),t=performance.now();await e.runPythonAsync(y.value);const s=performance.now();c.value=(s-t).toFixed(2)}catch(e){r.value.push({type:"error",message:e.message}),x("error",e)}},P=()=>{r.value=[],c.value=null},C=e=>e==="error"?"text-red-400":"text-emerald-400";return(e,t)=>(a(),l("div",F,[o("div",N,[o("div",S,[o("div",E,[t[1]||(t[1]=o("svg",{class:"w-5 h-5 text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor"},[o("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.06-7.44 7-7.93v15.86zm2-15.86c3.94.49 7 3.85 7 7.93s-3.06 7.44-7 7.93V4.07z"})],-1)),t[2]||(t[2]=o("span",{class:"font-bold text-white"},"Python",-1)),f.value?(a(),l("span",q,d(e.t("tools.code-playground.common.ready")),1)):n.value?h("",!0):(a(),l("span",M,d(e.t("tools.code-playground.common.not_loaded","Not loaded")),1))]),o("button",{onClick:k,disabled:n.value,class:g(["px-4 py-1.5 rounded-lg font-medium text-sm transition-colors flex items-center gap-2",n.value?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"])},[n.value?(a(),l("svg",T,[...t[3]||(t[3]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(a(),l("svg",A,[...t[4]||(t[4]=[o("path",{d:"M8 5v14l11-7z"},null,-1)])])),V(" "+d(n.value?"Loading...":e.t("tools.code-playground.common.run")),1)],10,R)]),o("div",H,[j(B,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),language:"python",theme:"vs-dark",height:"100%",minimap:!1},null,8,["modelValue"])])]),o("div",U,[o("div",$,[o("div",D,[o("span",I,d(e.t("tools.code-playground.common.output")),1),c.value?(a(),l("span",O,d(c.value)+"ms",1)):h("",!0)]),o("button",{onClick:P,class:"text-xs text-slate-500 hover:text-white transition-colors"},d(e.t("tools.code-playground.common.clear")),1)]),n.value?(a(),l("div",W,[o("div",G,[t[5]||(t[5]=o("div",{class:"w-12 h-12 border-4 border-violet-500 border-t-transparent rounded-full animate-spin mx-auto"},null,-1)),o("div",J,d(m.value),1),t[6]||(t[6]=o("div",{class:"text-xs text-slate-500"},"First load may take a few seconds...",-1))])])):(a(),l("div",K,[(a(!0),l(L,null,z(r.value,(s,v)=>(a(),l("div",{key:v,class:g(["flex items-start gap-2",C(s.type)])},[s.type==="error"?(a(),l("span",Q,"✗")):(a(),l("span",X,"›")),o("span",Y,d(s.message),1)],2))),128)),r.value.length===0&&!n.value?(a(),l("div",Z,' Click "Run" to execute Python code... ')):h("",!0)]))])]))}};export{le as default};
