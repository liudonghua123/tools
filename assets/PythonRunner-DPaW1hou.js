import{u as j,r as u,c as a,j as l,d as t,g as f,t as d,e as p,n as b,i as L,b as z,F,f as N}from"./index-rLpaf9az.js";import S from"./MonacoEditor-BiUFM2ZS.js";import"./monaco-editor-CGO6wXTd.js";const E={class:"flex flex-col md:flex-row h-full"},q={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col border-b md:border-b-0 md:border-r border-slate-700"},M={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-800/50"},R={class:"flex items-center gap-2"},T={key:0,class:"text-xs px-2 py-0.5 bg-emerald-600 text-white rounded-full"},A={key:1,class:"text-xs px-2 py-0.5 bg-slate-600 text-slate-300 rounded-full"},H=["disabled"],I={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},$={class:"flex-1 min-h-0"},D={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col bg-slate-900"},O={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700"},W={class:"flex items-center gap-3"},G={class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},J={key:0,class:"text-xs text-slate-500"},K={key:0,class:"flex-1 flex items-center justify-center"},Q={class:"text-center space-y-4"},X={class:"text-slate-400"},Y={key:1,class:"flex-1 overflow-y-auto p-4 font-mono text-sm space-y-1"},Z={key:0,class:"text-red-400"},ee={key:1,class:"text-emerald-400"},te={class:"whitespace-pre-wrap"},oe={key:0,class:"text-slate-500 italic"},re={__name:"PythonRunner",emits:["output","error","ready"],setup(se,{emit:k}){const{t:c}=j(),w=k,v=u(`# Python code runs in your browser with Pyodide
# No server required!

print("Hello from Python!")

# Basic math
result = sum(range(1, 101))
print(f"Sum of 1 to 100: {result}")

# List comprehension
squares = [x**2 for x in range(1, 11)]
print(f"Squares: {squares}")

# Dictionary example
person = {
    "name": "Alice",
    "age": 30,
    "city": "Wonderland"
}

for key, value in person.items():
    print(f"{key}: {value}")
`),r=u([]),n=u(!1),g=u(!1),y=u(""),m=u(null);let i=null;const P=async()=>{if(i)return i;if(console.log("Loading Pyodide runtime..."),window.loadPyodide)return await _(window.loadPyodide);n.value=!0,y.value="Loading Pyodide runtime...";try{const o="/tools/",e=`${o.endsWith("/")?o:o+"/"}pyodide/`;if(await new Promise((s,h)=>{const x=document.createElement("script");x.src=`${e}pyodide.js`,x.onload=s,x.onerror=()=>h(new Error("Failed to load pyodide.js script")),document.head.appendChild(x)}),y.value="Initializing Python environment...",!window.loadPyodide)throw new Error("Pyodide script loaded but loadPyodide not found in window");return await _(window.loadPyodide,e)}catch(o){throw r.value.push({type:"error",message:`Failed to load Pyodide: ${o.message}`}),o}finally{n.value=!1,y.value=""}},_=async(o,e)=>(i=await o({indexURL:e}),i.setStdout({batched:s=>{r.value.push({type:"log",message:s})}}),i.setStderr({batched:s=>{r.value.push({type:"error",message:s})}}),g.value=!0,w("ready"),i),C=async()=>{r.value=[],m.value=null;try{const o=await P(),e=performance.now();await o.runPythonAsync(v.value);const s=performance.now();m.value=(s-e).toFixed(2)}catch(o){r.value.push({type:"error",message:o.message}),w("error",o)}},B=()=>{r.value=[],m.value=null},V=o=>o==="error"?"text-red-400":"text-emerald-400";return(o,e)=>(l(),a("div",E,[t("div",q,[t("div",M,[t("div",R,[e[1]||(e[1]=t("svg",{class:"w-5 h-5 text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.06-7.44 7-7.93v15.86zm2-15.86c3.94.49 7 3.85 7 7.93s-3.06 7.44-7 7.93V4.07z"})],-1)),e[2]||(e[2]=t("span",{class:"font-bold text-white"},"Python",-1)),g.value?(l(),a("span",T,d(p(c)("tools.code-playground.common.ready")),1)):n.value?f("",!0):(l(),a("span",A,d(p(c)("tools.code-playground.common.not_loaded","Not loaded")),1))]),t("button",{onClick:C,disabled:n.value,class:b(["px-4 py-1.5 rounded-lg font-medium text-sm transition-colors flex items-center gap-2",n.value?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"])},[n.value?(l(),a("svg",I,[...e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(l(),a("svg",U,[...e[4]||(e[4]=[t("path",{d:"M8 5v14l11-7z"},null,-1)])])),L(" "+d(n.value?"Loading...":p(c)("tools.code-playground.common.run")),1)],10,H)]),t("div",$,[z(S,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s),language:"python",theme:"vs-dark",height:"100%",minimap:!1},null,8,["modelValue"])])]),t("div",D,[t("div",O,[t("div",W,[t("span",G,d(p(c)("tools.code-playground.common.output")),1),m.value?(l(),a("span",J,d(m.value)+"ms",1)):f("",!0)]),t("button",{onClick:B,class:"text-xs text-slate-500 hover:text-white transition-colors"},d(p(c)("tools.code-playground.common.clear")),1)]),n.value?(l(),a("div",K,[t("div",Q,[e[5]||(e[5]=t("div",{class:"w-12 h-12 border-4 border-violet-500 border-t-transparent rounded-full animate-spin mx-auto"},null,-1)),t("div",X,d(y.value),1),e[6]||(e[6]=t("div",{class:"text-xs text-slate-500"},"First load may take a few seconds...",-1))])])):(l(),a("div",Y,[(l(!0),a(F,null,N(r.value,(s,h)=>(l(),a("div",{key:h,class:b(["flex items-start gap-2",V(s.type)])},[s.type==="error"?(l(),a("span",Z,"✗")):(l(),a("span",ee,"›")),t("span",te,d(s.message),1)],2))),128)),r.value.length===0&&!n.value?(l(),a("div",oe,' Click "Run" to execute Python code... ')):f("",!0)]))])]))}};export{re as default};
