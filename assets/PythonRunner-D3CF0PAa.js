import B from"./MonacoEditor-C0fqLfyw.js";import{r as i,c as a,j as l,d as t,g as v,n as g,i as V,t as m,b as j,F as L,f as z}from"./index-BPhu3kKC.js";import"./monaco-editor-CIrctJzJ.js";const F={class:"flex flex-col md:flex-row h-full"},N={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col border-b md:border-b-0 md:border-r border-slate-700"},R={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-800/50"},S={class:"flex items-center gap-2"},E={key:0,class:"text-xs px-2 py-0.5 bg-emerald-600 text-white rounded-full"},q={key:1,class:"text-xs px-2 py-0.5 bg-slate-600 text-slate-300 rounded-full"},M=["disabled"],T={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A={key:1,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},H={class:"flex-1 min-h-0"},O={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col bg-slate-900"},U={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700"},$={class:"flex items-center gap-3"},D={key:0,class:"text-xs text-slate-500"},I={key:0,class:"flex-1 flex items-center justify-center"},W={class:"text-center space-y-4"},G={class:"text-slate-400"},J={key:1,class:"flex-1 overflow-y-auto p-4 font-mono text-sm space-y-1"},K={key:0,class:"text-red-400"},Q={key:1,class:"text-emerald-400"},X={class:"whitespace-pre-wrap"},Y={key:0,class:"text-slate-500 italic"},oe={__name:"PythonRunner",emits:["output","error","ready"],setup(Z,{emit:b}){const f=b,y=i(`# Python code runs in your browser with Pyodide
# No server required!

print("Hello from Python!")

# Basic math
result = sum(range(1, 101))
print(f"Sum of 1 to 100: {result}")

# List comprehension
squares = [x**2 for x in range(1, 11)]
print(f"Squares: {squares}")

# Dictionary example
person = {
    "name": "Alice",
    "age": 30,
    "city": "Wonderland"
}

for key, value in person.items():
    print(f"{key}: {value}")
`),n=i([]),r=i(!1),h=i(!1),c=i(""),u=i(null);let d=null;const _=async()=>{if(d)return d;if(console.log("Loading Pyodide runtime..."),window.loadPyodide)return await w(window.loadPyodide);r.value=!0,c.value="Loading Pyodide runtime...";try{const s="/tools/",e=`${s.endsWith("/")?s:s+"/"}pyodide/`;if(await new Promise((o,x)=>{const p=document.createElement("script");p.src=`${e}pyodide.js`,p.onload=o,p.onerror=()=>x(new Error("Failed to load pyodide.js script")),document.head.appendChild(p)}),c.value="Initializing Python environment...",!window.loadPyodide)throw new Error("Pyodide script loaded but loadPyodide not found in window");return await w(window.loadPyodide,e)}catch(s){throw n.value.push({type:"error",message:`Failed to load Pyodide: ${s.message}`}),s}finally{r.value=!1,c.value=""}},w=async(s,e)=>(d=await s({indexURL:e}),d.setStdout({batched:o=>{n.value.push({type:"log",message:o})}}),d.setStderr({batched:o=>{n.value.push({type:"error",message:o})}}),h.value=!0,f("ready"),d),k=async()=>{n.value=[],u.value=null;try{const s=await _(),e=performance.now();await s.runPythonAsync(y.value);const o=performance.now();u.value=(o-e).toFixed(2)}catch(s){n.value.push({type:"error",message:s.message}),f("error",s)}},P=()=>{n.value=[],u.value=null},C=s=>s==="error"?"text-red-400":"text-emerald-400";return(s,e)=>(l(),a("div",F,[t("div",N,[t("div",R,[t("div",S,[e[1]||(e[1]=t("svg",{class:"w-5 h-5 text-yellow-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.06-7.44 7-7.93v15.86zm2-15.86c3.94.49 7 3.85 7 7.93s-3.06 7.44-7 7.93V4.07z"})],-1)),e[2]||(e[2]=t("span",{class:"font-bold text-white"},"Python",-1)),h.value?(l(),a("span",E,"Ready")):r.value?v("",!0):(l(),a("span",q,"Not loaded"))]),t("button",{onClick:k,disabled:r.value,class:g(["px-4 py-1.5 rounded-lg font-medium text-sm transition-colors flex items-center gap-2",r.value?"bg-slate-600 text-slate-400 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"])},[r.value?(l(),a("svg",T,[...e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(l(),a("svg",A,[...e[4]||(e[4]=[t("path",{d:"M8 5v14l11-7z"},null,-1)])])),V(" "+m(r.value?"Loading...":"Run"),1)],10,M)]),t("div",H,[j(B,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=o=>y.value=o),language:"python",theme:"vs-dark",height:"100%",minimap:!1},null,8,["modelValue"])])]),t("div",O,[t("div",U,[t("div",$,[e[5]||(e[5]=t("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Output",-1)),u.value?(l(),a("span",D,m(u.value)+"ms",1)):v("",!0)]),t("button",{onClick:P,class:"text-xs text-slate-500 hover:text-white transition-colors"}," Clear ")]),r.value?(l(),a("div",I,[t("div",W,[e[6]||(e[6]=t("div",{class:"w-12 h-12 border-4 border-violet-500 border-t-transparent rounded-full animate-spin mx-auto"},null,-1)),t("div",G,m(c.value),1),e[7]||(e[7]=t("div",{class:"text-xs text-slate-500"},"First load may take a few seconds...",-1))])])):(l(),a("div",J,[(l(!0),a(L,null,z(n.value,(o,x)=>(l(),a("div",{key:x,class:g(["flex items-start gap-2",C(o.type)])},[o.type==="error"?(l(),a("span",K,"✗")):(l(),a("span",Q,"›")),t("span",X,m(o.message),1)],2))),128)),n.value.length===0&&!r.value?(l(),a("div",Y,' Click "Run" to execute Python code... ')):v("",!0)]))])]))}};export{oe as default};
