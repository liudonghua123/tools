import{u as se,r as x,k as g,l as le,o as ie,c as h,d as e,h as S,q as ne,F as A,f as L,t as v,e as b,v as H,n as I,g as oe,A as re,j as f,C as ae}from"./index-DFuPh5c1.js";import"./monaco-editor-DrHUTMTD.js";function M(s,i,t){const l=s[i];s[i]=s[t],s[t]=l}const de={*bubble(s){const i=s.length;yield{type:"line",lines:{js:2,python:2}};for(let t=0;t<i-1;t++){yield{type:"line",lines:{js:3,python:3}};for(let l=0;l<i-t-1;l++)yield{type:"line",lines:{js:4,python:4}},yield{type:"compare",indices:[l,l+1],lines:{js:6,python:6}},s[l]>s[l+1]&&(M(s,l,l+1),yield{type:"swap",indices:[l,l+1],lines:{js:8,python:8}})}},*selection(s){const i=s.length;yield{type:"line",lines:{js:2,python:2}};for(let t=0;t<i;t++){yield{type:"line",lines:{js:3,python:3}};let l=t;yield{type:"line",lines:{js:4,python:4}};for(let o=t+1;o<i;o++)yield{type:"line",lines:{js:5,python:5}},yield{type:"compare",indices:[l,o],lines:{js:7,python:7}},s[o]<s[l]&&(l=o,yield{type:"line",lines:{js:8,python:8}});yield{type:"line",lines:{js:11,python:9}},l!==t&&(M(s,t,l),yield{type:"swap",indices:[t,l],lines:{js:13,python:11}})}},*insertion(s){const i=s.length;yield{type:"line",lines:{js:2,python:2}};for(let t=1;t<i;t++){yield{type:"line",lines:{js:3,python:3}};let l=s[t],o=t-1;for(yield{type:"line",lines:{js:4,python:4}},yield{type:"line",lines:{js:5,python:5}},yield{type:"compare",indices:[t,o],lines:{js:7,python:6}};o>=0&&s[o]>l;)yield{type:"compare",indices:[o,t],lines:{js:7,python:6}},s[o+1]=s[o],yield{type:"overwrite",indices:[o+1],value:s[o],lines:{js:8,python:7}},o=o-1,yield{type:"line",lines:{js:9,python:8}};s[o+1]=l,yield{type:"overwrite",indices:[o+1],value:l,lines:{js:11,python:9}}}},*quick(s,i=0,t=s.length-1){if(i>=t){yield{type:"line",lines:{js:2,python:2}};return}let l=i,o=s[t];yield{type:"line",lines:{js:4,python:4}},yield{type:"line",lines:{js:5,python:5}};for(let c=i;c<t;c++)yield{type:"line",lines:{js:7,python:7}},yield{type:"compare",indices:[c,t],lines:{js:8,python:8}},s[c]<o&&(M(s,c,l),yield{type:"swap",indices:[c,l],lines:{js:10,python:9}},l++,yield{type:"line",lines:{js:11,python:10}});M(s,l,t),yield{type:"swap",indices:[l,t],lines:{js:14,python:12}},yield{type:"line",lines:{js:16,python:14}},yield*this.quick(s,i,l-1),yield{type:"line",lines:{js:17,python:15}},yield*this.quick(s,l+1,t)},*merge(s,i=0,t=s.length-1){if(i>=t){yield{type:"line",lines:{js:2,python:2}};return}const l=Math.floor((i+t)/2);yield{type:"line",lines:{js:4,python:4}},yield{type:"line",lines:{js:5,python:5}},yield*this.merge(s,i,l),yield{type:"line",lines:{js:6,python:6}},yield*this.merge(s,l+1,t),yield{type:"line",lines:{js:8,python:8}},yield*this.mergeSortMerge(s,i,l,t)},*mergeSortMerge(s,i,t,l){const o=s.slice(i,t+1),c=s.slice(t+1,l+1);let r=i,u=0,p=0;for(;u<o.length&&p<c.length;)yield{type:"compare",indices:[i+u,t+1+p]},o[u]<=c[p]?(s[r]=o[u],yield{type:"overwrite",indices:[r],value:o[u]},u++):(s[r]=c[p],yield{type:"overwrite",indices:[r],value:c[p]},p++),r++;for(;u<o.length;)s[r]=o[u],yield{type:"overwrite",indices:[r],value:o[u]},u++,r++;for(;p<c.length;)s[r]=c[p],yield{type:"overwrite",indices:[r],value:c[p]},p++,r++}},ce={bubble:["async function bubbleSort(arr) {","    const n = arr.length;","    for (let i = 0; i < n - 1; i++) {","        for (let j = 0; j < n - i - 1; j++) {","            // Compare","            if (arr[j] > arr[j + 1]) {","                // Swap","                let temp = arr[j];","                arr[j] = arr[j + 1];","                arr[j + 1] = temp;","            }","        }","    }","}"],selection:["async function selectionSort(arr) {","    const n = arr.length;","    for (let i = 0; i < n; i++) {","        let minIdx = i;","        for (let j = i + 1; j < n; j++) {","            // Compare","            if (arr[j] < arr[minIdx]) {","                minIdx = j;","            }","        }","        if (minIdx !== i) {","            // Swap","            let temp = arr[i];","            arr[i] = arr[minIdx];","            arr[minIdx] = temp;","        }","    }","}"],insertion:["async function insertionSort(arr) {","    const n = arr.length;","    for (let i = 1; i < n; i++) {","        let key = arr[i];","        let j = i - 1;","        ","        // Active Comparison","        while (j >= 0 && arr[j] > key) {","            arr[j + 1] = arr[j];","            j = j - 1;","        }","        arr[j + 1] = key;","    }","}"],quick:["async function quickSort(arr, start, end) {","    if (start >= end) return;","","    let pivotIndex = start;","    let pivotValue = arr[end];","    ","    for (let i = start; i < end; i++) {","        if (arr[i] < pivotValue) {","            swap(arr, i, pivotIndex);","            pivotIndex++;","        }","    }","    swap(arr, pivotIndex, end);","    ","    await quickSort(arr, start, pivotIndex - 1);","    await quickSort(arr, pivotIndex + 1, end);","}"],merge:["async function mergeSort(arr, start, end) {","    if (start >= end) return;","    ","    const mid = Math.floor((start + end) / 2);","    await mergeSort(arr, start, mid);","    await mergeSort(arr, mid + 1, end);","    ","    merge(arr, start, mid, end);","}"]},ue={bubble:["def bubble_sort(arr):","    n = len(arr)","    for i in range(n - 1):","        for j in range(n - i - 1):","            # Compare","            if arr[j] > arr[j + 1]:","                # Swap","                arr[j], arr[j + 1] = arr[j + 1], arr[j]","","","","","",""],selection:["def selection_sort(arr):","    n = len(arr)","    for i in range(n):","        min_idx = i","        for j in range(i + 1, n):","            # Compare","            if arr[j] < arr[min_idx]:","                min_idx = j","        if min_idx != i:","            # Swap","            arr[i], arr[min_idx] = arr[min_idx], arr[i]","","",""],insertion:["def insertion_sort(arr):","    n = len(arr)","    for i in range(1, n):","        key = arr[i]","        j = i - 1","        # Compare & Shift","        while j >= 0 and arr[j] > key:","            arr[j + 1] = arr[j]","            j -= 1","        arr[j + 1] = key","","",""],quick:["def quick_sort(arr, start, end):","    if start >= end: return","","    pivot_index = start","    pivot_value = arr[end]","","    for i in range(start, end):","        if arr[i] < pivot_value:","            arr[i], arr[pivot_index] = arr[pivot_index], arr[i]","            pivot_index += 1","","    arr[pivot_index], arr[end] = arr[end], arr[pivot_index]","","    quick_sort(arr, start, pivot_index - 1)","    quick_sort(arr, pivot_index + 1, end)",""],merge:["def merge_sort(arr, start, end):","    if start >= end: return","","    mid = (start + end) // 2","    merge_sort(arr, start, mid)","    merge_sort(arr, mid + 1, end)","","    merge(arr, start, mid, end)","","",""]},pe={js:ce,python:ue},ve={class:"flex flex-col h-[calc(100vh-140px)] p-4 max-w-7xl mx-auto w-full gap-4"},ye={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col md:flex-row gap-4 items-center justify-between"},me={class:"flex items-center gap-4 flex-wrap justify-center md:justify-start"},he={class:"flex items-center gap-2"},fe=["value"],xe={class:"flex items-center gap-2"},ge={class:"text-xs font-bold text-slate-500 uppercase"},be={class:"flex items-center gap-2"},_e={class:"text-xs font-bold text-slate-500 uppercase"},je={class:"flex items-center gap-2"},we=["title"],ke={class:"bg-white dark:bg-slate-800 p-3 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col md:flex-row items-center gap-4"},Ie={class:"flex items-center gap-2"},Ce=["disabled"],ze={key:0,class:"w-5 h-5 translate-x-0.5",fill:"currentColor",viewBox:"0 0 24 24"},Se={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},Me=["disabled"],Ve={class:"flex-1 w-full flex items-center gap-3"},qe={class:"text-xs font-mono text-slate-500 min-w-[3ch] text-right"},Be=["max"],Ae={class:"text-xs font-mono text-slate-500 min-w-[3ch]"},Le={class:"flex-1 flex flex-col lg:flex-row gap-4 min-h-0"},He={class:"flex-1 bg-slate-100 dark:bg-slate-900 rounded-xl p-4 border border-slate-200 dark:border-slate-700 flex items-end justify-center gap-[1px] relative overflow-hidden min-h-[300px] lg:min-h-0"},Te={key:0,class:"absolute inset-0 flex items-center justify-center text-slate-400"},$e={class:"w-full lg:w-96 flex flex-col gap-4"},Fe={class:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700"},Ue={class:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-4"},Ee={class:"space-y-4"},Pe={class:"flex justify-between items-center"},De={class:"text-slate-600 dark:text-slate-400 text-sm"},Je={class:"font-mono font-bold text-blue-600 dark:text-blue-400"},Ne={class:"flex justify-between items-center"},Oe={class:"text-slate-600 dark:text-slate-400 text-sm"},Ge={class:"font-mono font-bold"},Ke={class:"flex justify-between items-center"},Qe={class:"text-slate-600 dark:text-slate-400 text-sm"},Re={class:"font-mono font-bold"},We={class:"flex justify-between items-center"},Xe={class:"text-slate-600 dark:text-slate-400 text-sm"},Ye={class:"font-mono font-bold"},Ze={class:"flex-1 bg-slate-900 rounded-xl overflow-hidden border border-slate-700 flex flex-col min-h-[300px] lg:h-[400px]"},et={class:"px-4 py-2 bg-slate-800 border-b border-slate-700 flex items-center justify-between"},tt={class:"flex bg-slate-900 rounded-lg p-0.5 border border-slate-700"},st={class:"flex-1 overflow-auto p-4 custom-scrollbar font-mono text-xs md:text-sm"},lt=["id"],it={class:"w-6 text-slate-600 select-none text-right mr-3"},nt={class:"whitespace-pre"},at={__name:"index",setup(s){const{t:i}=se(),t=x("bubble"),l=x(20),o=x(50),c=x(!1),r=x(0),u=x(0),p=x([]),j=x("js"),T=g(()=>{var a;return((a=p.value[r.value])==null?void 0:a.array)||[]}),J=g(()=>{var a;return((a=p.value[r.value])==null?void 0:a.activeIndices)||[]}),N=g(()=>{var a;return((a=p.value[r.value])==null?void 0:a.compareIndices)||[]}),O=g(()=>{var a;return((a=p.value[r.value])==null?void 0:a.lines)||{}}),$=g(()=>O.value[j.value]||-1),C=g(()=>{var a;return((a=p.value[r.value])==null?void 0:a.metrics)||{comparisons:0,swaps:0,access:0}});let F=null;const G=g(()=>[{value:"bubble",label:i("tools.sorting-visualizer.algorithms.bubble")},{value:"selection",label:i("tools.sorting-visualizer.algorithms.selection")},{value:"insertion",label:i("tools.sorting-visualizer.algorithms.insertion")},{value:"quick",label:i("tools.sorting-visualizer.algorithms.quick")},{value:"merge",label:i("tools.sorting-visualizer.algorithms.merge")}]),K=g(()=>pe[j.value][t.value]||[]),Q=()=>{const a=[];for(let y=0;y<l.value;y++)a.push(Math.floor(Math.random()*95)+5);const n=[],d={comparisons:0,swaps:0,access:0};n.push({array:[...a],activeIndices:[],compareIndices:[],lines:{},metrics:{...d}});const m=de[t.value]([...a]);let q=m.next(),_=[...a];for(;!q.done;){const y=q.value;let B=[],E=[],P={};if(y){if(y.lines&&(P=y.lines),y.type==="compare")d.comparisons++,d.access+=2,E=y.indices;else if(y.type==="swap"){d.swaps++,d.access+=4,B=y.indices;const[z,D]=y.indices,te=_[z];_[z]=_[D],_[D]=te}else if(y.type==="overwrite"){d.access++,d.swaps++,B=y.indices;const[z]=y.indices;_[z]=y.value}}n.push({array:[..._],activeIndices:B,compareIndices:E,lines:P,metrics:{...d}}),q=m.next()}n.push({array:[..._],activeIndices:[],compareIndices:[],lines:{},metrics:{...d}}),p.value=n,u.value=n.length-1,r.value=0},V=()=>{k(),Q()},R=()=>{r.value>=u.value&&(r.value=0),c.value=!0,U()},k=()=>{c.value=!1,clearTimeout(F)},W=()=>{k(),r.value<u.value&&(r.value++,w())},X=()=>{k(),r.value>0&&(r.value--,w())},Y=a=>{k(),w()},U=()=>{if(c.value)if(r.value<u.value){r.value++,w();const a=Math.max(1,(101-o.value)*3);F=setTimeout(U,a)}else c.value=!1},w=()=>{re(()=>{const a=$.value;if(a>0){const n=document.getElementById(`code-line-${a}`);n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}})};le([l,t],()=>{V()}),ie(()=>{V()});const Z=(a,n)=>r.value===u.value?"bg-emerald-500":N.value.includes(a)?"bg-yellow-400":J.value.includes(a)?"bg-fuchsia-500":"bg-blue-500",ee=a=>`${a}%`;return(a,n)=>(f(),h("div",ve,[e("div",ye,[e("div",me,[e("div",he,[n[7]||(n[7]=e("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})],-1)),S(e("select",{"onUpdate:modelValue":n[0]||(n[0]=d=>t.value=d),class:"bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none"},[(f(!0),h(A,null,L(G.value,d=>(f(),h("option",{key:d.value,value:d.value},v(d.label),9,fe))),128))],512),[[ne,t.value]])]),e("div",xe,[e("span",ge,v(b(i)("tools.sorting-visualizer.controls.size")),1),S(e("input",{type:"range","onUpdate:modelValue":n[1]||(n[1]=d=>l.value=d),min:"10",max:"50",class:"w-24 accent-blue-500"},null,512),[[H,l.value,void 0,{number:!0}]])]),e("div",be,[e("span",_e,v(b(i)("tools.sorting-visualizer.controls.speed")),1),S(e("input",{type:"range","onUpdate:modelValue":n[2]||(n[2]=d=>o.value=d),min:"1",max:"100",class:"w-24 accent-cyan-500"},null,512),[[H,o.value,void 0,{number:!0}]])])]),e("div",je,[e("button",{onClick:V,class:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:b(i)("tools.sorting-visualizer.controls.reset")},[...n[8]||(n[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,we)])]),e("div",ke,[e("div",Ie,[e("button",{onClick:X,class:"p-2 text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg disabled:opacity-50",disabled:r.value<=0},[...n[9]||(n[9]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M11 19V5l-7 7 7 7zm8-14h-2v14h2V5z"})],-1)])],8,Ce),e("button",{onClick:n[3]||(n[3]=d=>c.value?k():R()),class:I(["w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg transition-transform active:scale-95",c.value?"bg-amber-500 hover:bg-amber-600":"bg-blue-600 hover:bg-blue-500"])},[c.value?(f(),h("svg",Se,[...n[11]||(n[11]=[e("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)])])):(f(),h("svg",ze,[...n[10]||(n[10]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])]))],2),e("button",{onClick:W,class:"p-2 text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg disabled:opacity-50",disabled:r.value>=u.value},[...n[12]||(n[12]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M13 5v14l7-7-7-7zM5 5h2v14H5V5z"})],-1)])],8,Me)]),e("div",Ve,[e("span",qe,v(r.value),1),S(e("input",{type:"range","onUpdate:modelValue":n[4]||(n[4]=d=>r.value=d),max:u.value,min:"0",onInput:Y,class:"flex-1 accent-indigo-500 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer"},null,40,Be),[[H,r.value,void 0,{number:!0}]]),e("span",Ae,v(u.value),1)])]),e("div",Le,[e("div",He,[(f(!0),h(A,null,L(T.value,(d,m)=>(f(),h("div",{key:m,style:ae({height:ee(d)}),class:I(["flex-1 rounded-t-sm transition-colors duration-75",Z(m)])},null,6))),128)),T.value.length===0?(f(),h("div",Te," Loading... ")):oe("",!0)]),e("div",$e,[e("div",Fe,[e("h3",Ue,v(b(i)("tools.sorting-visualizer.title"))+" Stats",1),e("div",Ee,[e("div",Pe,[e("span",De,v(b(i)("tools.sorting-visualizer.metrics.time")),1),e("span",Je,v(C.value.elapsedTime)+"ms",1)]),e("div",Ne,[e("span",Oe,v(b(i)("tools.sorting-visualizer.metrics.comparisons")),1),e("span",Ge,v(C.value.comparisons),1)]),e("div",Ke,[e("span",Qe,v(b(i)("tools.sorting-visualizer.metrics.swaps")),1),e("span",Re,v(C.value.swaps),1)]),e("div",We,[e("span",Xe,v(b(i)("tools.sorting-visualizer.metrics.access")),1),e("span",Ye,v(C.value.access),1)])])]),e("div",Ze,[e("div",et,[n[13]||(n[13]=e("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Algorithm Code",-1)),e("div",tt,[e("button",{onClick:n[5]||(n[5]=d=>{j.value="js",w()}),class:I(["px-2 py-0.5 text-xs rounded transition-colors",j.value==="js"?"bg-slate-700 text-white":"text-slate-500 hover:text-slate-300"])},"JS",2),e("button",{onClick:n[6]||(n[6]=d=>{j.value="python",w()}),class:I(["px-2 py-0.5 text-xs rounded transition-colors",j.value==="python"?"bg-slate-700 text-white":"text-slate-500 hover:text-slate-300"])},"Python",2)])]),e("div",st,[(f(!0),h(A,null,L(K.value,(d,m)=>(f(),h("div",{key:m,id:`code-line-${m+1}`,class:I(["px-2 py-0.5 rounded transition-colors duration-100 flex",$.value===m+1?"bg-yellow-500/20 text-yellow-300 font-bold":"text-slate-400"])},[e("span",it,v(m+1),1),e("span",nt,v(d),1)],10,lt))),128))])])])])]))}};export{at as default};
