import{e as i,K as l,a as f}from"./monaco-editor-CIrctJzJ.js";import{_ as p,r as g,y as n,o as y,C as h,a as w,c as k,j as S,D as V}from"./index-C2oZR3VO.js";const _={__name:"MonacoEditor",props:{modelValue:{type:String,default:""},language:{type:String,default:"javascript"},theme:{type:String,default:"vs-dark"},readOnly:{type:Boolean,default:!1},height:{type:String,default:"300px"},minimap:{type:Boolean,default:!0},lineNumbers:{type:Boolean,default:!0},wordWrap:{type:String,default:"on"},fontSize:{type:Number,default:14},tabSize:{type:Number,default:2}},emits:["update:modelValue","format","ready"],setup(u,{expose:m,emit:d}){self.MonacoEnvironment={getWorker(t,a){return a==="json"?new Worker(new URL("/tools/assets/json.worker-B7c_PmGb.js",import.meta.url),{type:"module"}):a==="css"||a==="scss"||a==="less"?new Worker(new URL("/tools/assets/css.worker-DaIe3gwK.js",import.meta.url),{type:"module"}):a==="html"||a==="handlebars"||a==="razor"?new Worker(new URL("/tools/assets/html.worker-CKrFyw_2.js",import.meta.url),{type:"module"}):a==="typescript"||a==="javascript"?new Worker(new URL("/tools/assets/ts.worker-BhkL8olL.js",import.meta.url),{type:"module"}):new Worker(new URL("/tools/assets/editor.worker-BCzxt1at.js",import.meta.url),{type:"module"})}};const o=u,r=d,s=g(null);let e=null;const c=()=>{s.value&&(e=i.create(s.value,{value:o.modelValue,language:o.language,theme:o.theme,readOnly:o.readOnly,automaticLayout:!0,minimap:{enabled:o.minimap},lineNumbers:o.lineNumbers?"on":"off",wordWrap:o.wordWrap,fontSize:o.fontSize,tabSize:o.tabSize,scrollBeyondLastLine:!1,padding:{top:12,bottom:12},smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",renderWhitespace:"selection",bracketPairColorization:{enabled:!0},fontFamily:"'JetBrains Mono', 'Fira Code', Consolas, Monaco, 'Courier New', monospace",fontLigatures:!0}),e.onDidChangeModelContent(()=>{r("update:modelValue",e.getValue())}),e.addAction({id:"format-document",label:"Format Document",keybindings:[l.Shift|l.Alt|f.KeyF],run:()=>{e.getAction("editor.action.formatDocument").run(),r("format")}}),r("ready",e))};return m({format:async()=>{var t;e&&(await((t=e.getAction("editor.action.formatDocument"))==null?void 0:t.run()),r("format"))},setValue:t=>{e&&e.getValue()!==t&&e.setValue(t)},getValue:()=>e?e.getValue():"",focus:()=>{e==null||e.focus()},getEditor:()=>e}),n(()=>o.modelValue,t=>{e&&e.getValue()!==t&&e.setValue(t)}),n(()=>o.language,t=>{e&&i.setModelLanguage(e.getModel(),t)}),n(()=>o.theme,t=>{i.setTheme(t)}),n(()=>o.readOnly,t=>{e&&e.updateOptions({readOnly:t})}),y(()=>{h(()=>{c()})}),w(()=>{e&&e.dispose()}),(t,a)=>(S(),k("div",{ref_key:"containerRef",ref:s,class:"monaco-editor-container",style:V({height:u.height})},null,4))}},W=p(_,[["__scopeId","data-v-72aeb79e"]]);export{W as default};
