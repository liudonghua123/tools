import{_ as E}from"./monaco-editor-CGO6wXTd.js";import{_ as M,u as V,r as c,c as r,j as n,d as e,g as w,t as u,e as f,h as z,q as B,b as H,F as S,f as W,n as F}from"./index-DDXOat2P.js";import R from"./MonacoEditor-NmHOSzWw.js";const T={class:"flex flex-col md:flex-row h-full"},q={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col border-b md:border-b-0 md:border-r border-slate-700"},D={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700 bg-slate-800/50"},I={class:"flex items-center gap-4"},N={class:"flex items-center gap-2"},O={key:0,class:"text-xs px-2 py-0.5 bg-emerald-600 text-white rounded-full"},U={class:"relative group"},G=["disabled"],J={class:"flex-1 min-h-0"},K={class:"w-full md:w-1/2 h-1/2 md:h-full flex flex-col bg-slate-900"},Q={class:"flex items-center justify-between px-4 py-3 border-b border-slate-700"},X={class:"flex items-center gap-3"},Y={class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},Z={key:0,class:"text-xs text-slate-500"},ee={key:0,class:"flex-1 flex items-center justify-center"},te={class:"text-center space-y-4"},se={class:"text-slate-400"},oe={key:1,class:"flex-1 overflow-y-auto p-4 font-mono text-sm space-y-1"},ae={key:0,class:"text-red-400"},le={key:1,class:"text-slate-500"},re={key:2,class:"text-blue-400"},ne={class:"whitespace-pre-wrap"},ie={__name:"PhpRunner",emits:["output","error","ready"],setup(de,{emit:P}){const{t:m}=V(),k=P,g={hello:`<?php
$version = phpversion();
echo "Hello from PHP $version!\\n";`,array:`<?php
// Array example
$fruits = ["Apple", "Banana", "Cherry"];
echo "Fruits:\\n";
foreach ($fruits as $fruit) {
    echo "- $fruit\\n";
}`,math:`<?php
// Math
echo "Sqrt(16) = " . sqrt(16) . "\\n";
echo "Pi = " . pi() . "\\n";
echo "Random number: " . rand(1, 100) . "\\n";
?>`},v=c(g.hello),x=c("hello"),i=c([]),p=c(!1),b=c(!1),y=c(""),h=c(null);let d=null;const C=async()=>{if(d)return d;console.log("Loading PHP runtime..."),p.value=!0,y.value="Loading PHP runtime...";try{const s="/tools/",t=`${s.endsWith("/")?s:s+"/"}php-wasm/`,{PhpWeb:o}=await E(async()=>{const{PhpWeb:a}=await import(`${t}PhpWeb.mjs`);return{PhpWeb:a}},[]);return d=new o,d.addEventListener("output",a=>{const l=a.detail,_=Array.isArray(l)?l.join(""):String(l);i.value.push({type:"log",message:_})}),d.addEventListener("error",a=>{const l=a.detail,_=Array.isArray(l)?l.join(""):String(l);i.value.push({type:"error",message:_})}),new Promise((a,l)=>{d.addEventListener("ready",()=>{b.value=!0,k("ready"),a(d)})})}catch(s){return i.value.push({type:"error",message:`Failed to load PHP: ${s.message}`}),Promise.reject(s)}finally{p.value=!1,y.value=""}},j=()=>{g[x.value]&&(v.value=g[x.value])},L=async()=>{i.value=[],h.value=null;try{const s=await C(),t=performance.now();let o=v.value;const a=await s.run(o),l=performance.now();h.value=(l-t).toFixed(2),i.value.push({type:"info",message:`Program exited with code ${a}`})}catch(s){i.value.push({type:"error",message:s.message})}},$=()=>{i.value=[],h.value=null},A=s=>s==="error"?"text-red-400":s==="info"?"text-slate-500 italic":"text-blue-400";return(s,t)=>(n(),r("div",T,[e("div",q,[e("div",D,[e("div",I,[e("div",N,[t[2]||(t[2]=e("svg",{class:"w-5 h-5 text-indigo-400",viewBox:"0 0 128 128",fill:"currentColor"},[e("path",{d:"M64 30.332C28.654 30.332 0 45.407 0 64s28.654 33.668 64 33.668c35.345 0 64-15.075 64-33.668S99.346 30.332 64 30.332zm-5.982 9.81h7.293v.003l-1.745 8.968h6.496c4.087 0 6.908.714 8.458 2.139 1.553 1.427 2.017 3.737 1.398 6.93l-3.053 15.7h-7.408l2.902-14.929c.33-1.698.208-2.855-.365-3.473-.573-.617-1.793-.925-3.658-.925h-5.828L58.752 73.88h-7.291l6.557-33.738zM26.73 49.114h14.133c4.252 0 7.355 1.116 9.305 3.348 1.95 2.232 2.536 5.346 1.758 9.346-.32 1.649-.863 3.154-1.625 4.52-.763 1.364-1.76 2.613-2.99 3.745-1.468 1.373-3.098 2.353-4.891 2.936-1.794.585-4.08.875-6.858.875h-6.294l-1.745 8.97h-7.35l6.557-33.74zm57.366 0h14.13c4.252 0 7.353 1.116 9.303 3.348h.002c1.95 2.232 2.538 5.346 1.76 9.346-.32 1.649-.861 3.154-1.623 4.52-.763 1.364-1.76 2.613-2.992 3.745-1.467 1.373-3.098 2.353-4.893 2.936-1.794.585-4.077.875-6.855.875h-6.295l-1.744 8.97h-7.35l6.557-33.74zm-51.051 5.325-2.742 14.12h4.468c2.963 0 5.172-.556 6.622-1.673 1.45-1.116 2.428-2.981 2.937-5.592.485-2.507.264-4.279-.666-5.309-.93-1.032-2.79-1.547-5.584-1.547h-5.035zm57.363 0-2.744 14.12h4.47c2.965 0 5.17-.556 6.622-1.673 1.449-1.116 2.427-2.981 2.935-5.592.487-2.507.266-4.279-.664-5.309-.93-1.032-2.792-1.547-5.584-1.547h-5.035z"})],-1)),t[3]||(t[3]=e("span",{class:"font-bold text-white"},"PHP (WASM)",-1)),b.value?(n(),r("span",O,u(f(m)("tools.code-playground.common.ready")),1)):w("",!0)]),e("div",U,[z(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>x.value=o),onChange:j,class:"appearance-none bg-slate-700/50 border border-slate-600 text-slate-200 text-xs rounded px-2 pr-6 py-1 hover:border-slate-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 transition-all cursor-pointer"},[...t[4]||(t[4]=[e("option",{value:"hello"},"Hello World",-1),e("option",{value:"array"},"Arrays",-1),e("option",{value:"math"},"Math",-1)])],544),[[B,x.value]]),t[5]||(t[5]=e("div",{class:"absolute inset-y-0 right-1.5 flex items-center pointer-events-none text-slate-400"},[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))])]),e("button",{onClick:L,disabled:p.value,class:"px-4 py-1.5 rounded-lg font-medium text-sm transition-colors flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white disabled:bg-slate-600 disabled:text-slate-400"},u(p.value?"Loading...":f(m)("tools.code-playground.common.run")),9,G)]),e("div",J,[H(R,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=o=>v.value=o),language:"php",theme:"vs-dark",height:"100%"},null,8,["modelValue"])])]),e("div",K,[e("div",Q,[e("div",X,[e("span",Y,u(f(m)("tools.code-playground.common.output")),1),h.value?(n(),r("span",Z,u(h.value)+"ms",1)):w("",!0)]),e("button",{onClick:$,class:"text-xs text-slate-500 hover:text-white"},u(f(m)("tools.code-playground.common.clear")),1)]),p.value?(n(),r("div",ee,[e("div",te,[t[6]||(t[6]=e("div",{class:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto"},null,-1)),e("div",se,u(y.value),1)])])):(n(),r("div",oe,[(n(!0),r(S,null,W(i.value,(o,a)=>(n(),r("div",{key:a,class:F(["flex items-start gap-2",A(o.type)])},[o.type==="error"?(n(),r("span",ae,"✗")):o.type==="info"?(n(),r("span",le,"ℹ")):(n(),r("span",re,"›")),e("span",ne,u(o.message),1)],2))),128))]))])]))}},he=M(ie,[["__scopeId","data-v-eaa5910b"]]);export{he as default};
