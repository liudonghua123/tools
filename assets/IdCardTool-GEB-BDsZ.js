import{_ as U,u as q,r as M,o as X,c as V,a as n,b as F,d as e,B as A,t as o,e as a,F as $,f as B,g as h,w as R,v as P,n as f,h as j,i as d,j as G,k as J,l as K,T as O}from"./index-Dj86OTVH.js";const Q={class:"max-w-4xl mx-auto animate-fade-in relative px-4 sm:px-0 pt-4"},W={class:"mb-8 text-center pt-8"},Y={class:"text-4xl font-black text-slate-900 dark:text-white tracking-tight"},Z={class:"mt-3 text-slate-500 font-medium text-lg"},ee={class:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-2xl rounded-3xl shadow-2xl overflow-hidden border border-white/40 dark:border-gray-700/50"},te={class:"flex border-b border-gray-100 dark:border-gray-700"},se=["onClick"],oe={key:0,class:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full mx-8 animate-fade-in"},re={class:"p-6 sm:p-10"},ae={key:0,class:"space-y-10"},le={class:"space-y-6"},ne={class:"block text-sm font-bold text-gray-400 uppercase tracking-widest"},de={class:"relative group"},ie={class:"grid grid-cols-4 gap-2 sm:gap-4"},ce={class:"text-[10px] font-black uppercase text-slate-400 tracking-wider"},ue={class:"flex items-center space-x-3 font-black text-xl mb-8"},be={key:0,class:"p-2 bg-green-500 rounded-full text-white"},pe={key:1,class:"p-2 bg-red-500 rounded-full text-white"},he={key:0,class:"text-sm font-bold opacity-60 block mt-1"},xe={class:"grid grid-cols-1 sm:grid-cols-3 gap-6"},ge={class:"p-4 bg-white/40 dark:bg-black/20 rounded-2xl border border-white/50 dark:border-white/5"},ke={class:"block text-[10px] font-black uppercase text-slate-400 mb-2"},ve={class:"text-xl font-bold"},fe={class:"p-4 bg-white/40 dark:bg-black/20 rounded-2xl border border-white/50 dark:border-white/5"},_e={class:"block text-[10px] font-black uppercase text-slate-400 mb-2"},me={class:"text-xl font-bold"},we={class:"p-4 bg-white/40 dark:bg-black/20 rounded-2xl border border-white/50 dark:border-white/5"},ye={class:"block text-[10px] font-black uppercase text-slate-400 mb-2"},Ce={class:"text-lg font-bold leading-tight"},Me={key:0,class:"sm:col-span-3 p-4 bg-blue-500/10 dark:bg-blue-400/10 rounded-2xl border border-blue-200/50 dark:border-blue-900/30 flex items-center justify-between"},Ie={class:"text-sm font-bold text-blue-700 dark:text-blue-300 uppercase tracking-widest"},$e={class:"text-3xl font-black text-blue-600 dark:text-blue-400 font-mono"},Be={key:1,class:"text-center space-y-8"},je={class:"py-12 flex flex-col items-center"},ze={key:0,class:"mt-8 space-y-4 text-left"},Le={class:"text-sm font-bold text-slate-400 uppercase tracking-widest"},Ne=["onClick"],Se={class:"font-mono text-xl tracking-widest text-slate-700 dark:text-slate-200"},Te={class:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-[10px] font-black uppercase rounded-full tracking-widest opacity-0 group-hover:opacity-100 transition-opacity"},Ve={class:"flex items-center gap-2"},Fe=["onClick","title"],Re={key:0,class:"w-5 h-5 text-slate-400 group-hover/btn:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ee={key:1,class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},He={key:2,class:"absolute -top-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-green-500 text-white text-[10px] rounded font-bold whitespace-nowrap animate-bounce-short"},De=["onClick"],Ue={class:"p-5 bg-slate-50/50 dark:bg-slate-900/50 grid grid-cols-2 gap-4 text-sm border-t border-slate-50 dark:border-slate-700"},qe={class:"space-y-1"},Xe={class:"text-slate-400 font-bold uppercase text-[9px] tracking-widest"},Ae={class:"text-slate-700 dark:text-slate-200 font-mono"},Pe={class:"space-y-1"},Ge={class:"text-slate-400 font-bold uppercase text-[9px] tracking-widest"},Je={class:"text-slate-700 dark:text-slate-200 font-bold"},Ke={class:"col-span-2 space-y-1"},Oe={class:"text-slate-400 font-bold uppercase text-[9px] tracking-widest"},Qe={class:"text-slate-700 dark:text-slate-200 font-medium"},We={__name:"IdCardTool",setup(Ye){const{t:l,locale:x}=q(),_=M("check"),g=M(""),c=M([]),z=M({});X(async()=>{try{const r=await fetch("/tools/data/regions.json");r.ok&&(z.value=await r.json())}catch(r){console.error("Failed to load regions",r)}});const E=r=>z.value[r]||`Region Code: ${r}`,L=r=>{if(!r)return null;const t=r.trim().toUpperCase();if(t.length!==18)return{valid:!1,msg:"Length must be 18"};const s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],u=["1","0","X","9","8","7","6","5","4","3","2"];let b=0,m=!0;for(let v=0;v<17;v++){if(isNaN(t[v])){m=!1;break}b+=parseInt(t[v])*s[v]}if(!m)return{valid:!1,msg:"First 17 must be digits"};const k=u[b%11],w=t[17]===k,y=t.substring(6,10),I=t.substring(10,12),C=t.substring(12,14),p=parseInt(t.substring(16,17))%2===0?"female":"male";return{valid:w,checksum_error:!w,expectedCheck:k,birth:`${y}-${I}-${C}`,gender:p,place:E(t.substring(0,6))}},i=V(()=>g.value.length<17?null:L(g.value)),H=()=>{const r=["110101","310101","440101","440301"],t=r[Math.floor(Math.random()*r.length)],s=1970+Math.floor(Math.random()*40),u=String(Math.floor(Math.random()*12)+1).padStart(2,"0"),b=String(Math.floor(Math.random()*28)+1).padStart(2,"0"),m=String(Math.floor(Math.random()*999)).padStart(3,"0"),k=`${t}${s}${u}${b}${m}`,S=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],w=["1","0","X","9","8","7","6","5","4","3","2"];let y=0;for(let p=0;p<17;p++)y+=parseInt(k[p])*S[p];const I=w[y%11],C=k+I,T=L(C);c.value.unshift({id:C,expanded:!1,details:T}),c.value.length>5&&c.value.pop()},D=V(()=>{const r=g.value.replace(/\s/g,"").toUpperCase().padEnd(18,"_");return[{label:l("tools.id-card.structure.region"),val:r.substring(0,6),color:"text-blue-500"},{label:l("tools.id-card.structure.birth"),val:r.substring(6,14),color:"text-purple-500"},{label:l("tools.id-card.structure.seq"),val:r.substring(14,17),color:"text-indigo-500"},{label:l("tools.id-card.structure.check"),val:r.substring(17,18),color:"text-pink-500"}]}),N=r=>{c.value[r].expanded=!c.value[r].expanded};return(r,t)=>(d(),n("div",Q,[F(A),e("div",W,[t[1]||(t[1]=e("div",{class:"inline-flex items-center justify-center p-4 bg-blue-100/50 dark:bg-blue-900/30 rounded-3xl mb-6 shadow-xl ring-4 ring-blue-50 dark:ring-blue-900/10"},[e("svg",{class:"w-10 h-10 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})])],-1)),e("h1",Y,o(a(l)("tools.id-card.title")),1),e("p",Z,o(a(l)("tools.id-card.desc")),1)]),e("div",ee,[e("div",te,[(d(),n($,null,B(["check","gen"],s=>e("button",{key:s,onClick:u=>_.value=s,class:f(["flex-1 py-5 text-center font-bold transition-all duration-300 relative",_.value===s?"text-blue-600 dark:text-blue-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"])},[j(o(a(l)(`tools.id-card.${s}_tab`))+" ",1),_.value===s?(d(),n("div",oe)):h("",!0)],10,se)),64))]),e("div",re,[_.value==="check"?(d(),n("div",ae,[e("div",le,[e("label",ne,o(a(l)("tools.id-card.input_label")),1),e("div",de,[R(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>g.value=s),type:"text",maxlength:"18",placeholder:"110101199003078888",class:"block w-full px-6 py-5 text-3xl font-mono tracking-[0.2em] rounded-2xl border-2 border-slate-100 dark:border-slate-700 focus:border-blue-500 dark:focus:border-blue-500 bg-slate-50/50 dark:bg-slate-900/50 outline-none transition-all shadow-inner text-center"},null,512),[[P,g.value]]),t[2]||(t[2]=e("div",{class:"absolute inset-x-0 bottom-0 h-1 bg-blue-500 transform scale-x-0 group-focus-within:scale-x-100 transition-transform duration-500 rounded-full"},null,-1))]),e("div",ie,[(d(!0),n($,null,B(D.value,s=>(d(),n("div",{key:s.label,class:"flex flex-col items-center"},[e("div",{class:f(["font-mono text-xl sm:text-2xl bg-white/50 dark:bg-slate-800/50 w-full text-center py-3 rounded-xl mb-2 border border-slate-100 dark:border-slate-700 shadow-sm transition-colors",s.color])},o(s.val),3),e("span",ce,o(s.label),1)]))),128))])]),i.value?(d(),n("div",{key:0,class:f(["p-8 rounded-3xl border-2 transition-all duration-500",i.value.valid?"bg-green-50/30 border-green-200/50 dark:border-green-900/30 text-green-900 dark:text-green-300 shadow-lg shadow-green-500/5":"bg-red-50/30 border-red-200/50 dark:border-red-900/30 text-red-900 dark:text-red-300 shadow-lg shadow-red-500/5"])},[e("div",ue,[i.value.valid?(d(),n("div",be,[...t[3]||(t[3]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):(d(),n("div",pe,[...t[4]||(t[4]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])),e("span",null,[j(o(i.value.valid?a(l)("tools.id-card.result.valid"):i.value.checksum_error?a(l)("tools.id-card.result.checksum_error"):a(l)("tools.id-card.result.invalid"))+" ",1),!i.value.valid&&i.value.msg?(d(),n("span",he,o(i.value.msg),1)):h("",!0)])]),e("div",xe,[e("div",ge,[e("span",ke,o(a(l)("tools.id-card.result.birth")),1),e("span",ve,o(i.value.birth),1)]),e("div",fe,[e("span",_e,o(a(l)("tools.id-card.result.gender")),1),e("span",me,o(a(l)("common.gender."+i.value.gender)),1)]),e("div",we,[e("span",ye,o(a(l)("tools.id-card.result.place")),1),e("span",Ce,o(i.value.place),1)]),i.value.checksum_error?(d(),n("div",Me,[e("span",Ie,o(a(l)("tools.id-card.result.correct_checksum")),1),e("span",$e,o(i.value.expectedCheck),1)])):h("",!0)])],2)):h("",!0)])):(d(),n("div",Be,[e("div",je,[e("button",{onClick:H,class:"group relative px-10 py-5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold text-xl rounded-2xl shadow-xl hover:shadow-blue-500/20 transition-all transform hover:scale-105 active:scale-95 flex items-center gap-3"},[t[5]||(t[5]=e("svg",{class:"w-6 h-6 animate-spin-slow group-hover:rotate-180 transition-transform duration-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),j(" "+o(a(l)("tools.id-card.gen_btn")),1)])]),c.value.length>0?(d(),n("div",ze,[e("h3",Le,o(a(x)==="zh"?"最近生成":"Recent"),1),(d(!0),n($,null,B(c.value,(s,u)=>(d(),n("div",{key:s.id,class:"group bg-white/50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-lg"},[e("div",{class:f(["p-5 flex items-center justify-between transition-colors",{"border-b border-slate-50 dark:border-slate-700":s.expanded}])},[e("div",{onClick:b=>N(u),class:"flex-1 cursor-pointer flex items-center gap-4"},[e("span",Se,o(s.id),1),e("div",Te,o(s.expanded?a(x)==="zh"?"折叠":"Fold":a(x)==="zh"?"展开":"Expand"),1)],8,Ne),e("div",Ve,[e("button",{onClick:G(b=>r.copyToClipboard(s.id,s.id),["stop"]),class:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl transition-colors relative group/btn",title:a(x)==="zh"?"复制":"Copy"},[r.copiedId!==s.id?(d(),n("svg",Re,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m-3 8h3m-3 4h3"},null,-1)])])):(d(),n("svg",Ee,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),r.copiedId===s.id?(d(),n("span",He,o(a(x)==="zh"?"已复制":"Copied!"),1)):h("",!0)],8,Fe),e("button",{onClick:b=>N(u),class:"p-2 text-slate-400 hover:text-slate-600 transition-colors"},[(d(),n("svg",{class:f(["w-5 h-5 transition-transform duration-300",{"rotate-180":s.expanded}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,De)])],2),F(O,{name:"expand"},{default:J(()=>[R(e("div",Ue,[e("div",qe,[e("p",Xe,o(a(l)("tools.id-card.result.birth")),1),e("p",Ae,o(s.details.birth),1)]),e("div",Pe,[e("p",Ge,o(a(l)("tools.id-card.result.gender")),1),e("p",Je,o(a(l)(`common.gender.${s.details.gender}`)),1)]),e("div",Ke,[e("p",Oe,o(a(l)("tools.id-card.result.place")),1),e("p",Qe,o(s.details.place),1)])],512),[[K,s.expanded]])]),_:2},1024)]))),128))])):h("",!0)]))])])]))}},et=U(We,[["__scopeId","data-v-a4b25787"]]);export{et as default};
